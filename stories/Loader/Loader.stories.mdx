import { Meta, Canvas, Story } from "@storybook/addon-docs";

<Meta title="Feedbacks/Loader" />

# Loader

A block loading indicator.

## Examples

### Basic

<Canvas mdxSource={require("!!raw-loader!./Basic").default}>
  <Story id="examples-loader--basic" />
</Canvas>

### Standalone

<Canvas mdxSource={require("!!raw-loader!./Standalone").default}>
  <Story id="examples-loader--standalone" />
</Canvas>

### Custom icon

<Canvas mdxSource={require("!!raw-loader!./CustomIcon").default}>
  <Story id="examples-loader--custom-icon" />
</Canvas>

### Delay

The following example will show loader after 500ms when the switch is on.

<Canvas mdxSource={require("!!raw-loader!./Delay").default}>
  <Story id="examples-loader--delay" />
</Canvas>

### Sizes

<Canvas mdxSource={require("!!raw-loader!./Sizes").default}>
  <Story id="examples-loader--sizes" />
</Canvas>

### Config

`Loader` provides `Loader.Config` component to set `icon`, `message` and `delay` props for all sub Loader components. The following example will show custom loader icon after 500ms when the switch is on.

<Canvas mdxSource={require("!!raw-loader!./Config").default}>
  <Story id="examples-loader--config" />
</Canvas>

## API

### Loader

| Property   | Type                             | Description                   |
| ---------- | -------------------------------- | ----------------------------- |
| `size`     | `null` \| `"small"` \| `"large"` | Size                          |
| `icon`     | `ReactNode`                      | Custom loader icon            |
| `message`  | `ReactNode`                      | Tip message                   |
| `delay`    | `number`                         | Delay time, in milliseconds   |
| `loading`  | `boolean`                        | Whether the Loader is loading |
| `children` | `ReactNode`                      | Content                       |

It accepts all props which the native `<div>` element supports.

### Loader.Config

| Property  | Type        | Description                 |
| --------- | ----------- | --------------------------- |
| `icon`    | `ReactNode` | Custom loader icon          |
| `message` | `ReactNode` | Tip message                 |
| `delay`   | `number`    | Delay time, in milliseconds |

Loader.Config will inherit the upper configuration.

### Loader.Config.useConfig

```ts
function useConfig(): { icon?: ReactNode; message?: ReactNode; delay?: number };
```

Get configuration.

### Loader.Config.Context

A context created by `React.createContext`. It's default value is an empty object `{}`.
